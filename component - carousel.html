<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <!-- create your markup and styles -->
<div class="carousel">
    
  <button class="arrow back-arrow">⇦</button>
  <button class="arrow fwd-arrow">⇨</button>

    <div class="carousel-window">
        
  <ul>
    <li><img src="https://en.js.cx/carousel/1.png"></li>
    <li><img src="https://en.js.cx/carousel/2.png"></li>
    <li><img src="https://en.js.cx/carousel/3.png"></li>
    <li><img src="https://en.js.cx/carousel/4.png"></li>
    <li><img src="https://en.js.cx/carousel/5.png"></li>
    <li><img src="https://en.js.cx/carousel/6.png"></li>
    <li><img src="https://en.js.cx/carousel/7.png"></li>
    <li><img src="https://en.js.cx/carousel/8.png"></li>
    <li><img src="https://en.js.cx/carousel/9.png"></li>
    <li><img src="https://en.js.cx/carousel/10.png"></li>
  </ul>

    </div>
</div>

</body>
<style>
    .carousel-window {
        position: relative;
        width: 390px;
        overflow: hidden;
    }
    .carousel-window ul {
        display: flex;
        width: 9999px;
        list-style: none;
        transition: margin-left 250ms;
    }
    .carousel-window ul li {
        display: inline-block;
    }

    .carousel img {
        display: block;
        width: 100px;
        padding-left: 6px;
        padding-right: 6px;
    }
</style>

<script>
    // label the images to visually track them, just for convenience,
    // this code can be removed
    let i = 1;
    let carousel = document.querySelector('.carousel');
    let carouselWindow = document.querySelector('.carousel-window');

    for(let li of carousel.querySelectorAll('li')) {
      li.style.position = 'relative';
    //   li.insertAdjacentHTML('beforeend', `<span style="position:absolute;left:0;top:0">${i}</span>`);
      i++;
    }

    const windowLength = 3;
    let windowIndex = 0;
    const windowIndexMax = i-windowLength;
    let imageWidth = 110;

    let fwdArrow = document.querySelector('.carousel .fwd-arrow')
    let backArrow = document.querySelector('.carousel .back-arrow')
    let list = document.querySelector('.carousel ul');

 
    backArrow.addEventListener('click', () => {
        --windowIndex;
        if(windowIndex < 0) windowIndex = 0;
        position = windowIndex*imageWidth
        list.style.marginLeft = -position + 'px';
    })
    
    fwdArrow.addEventListener('click', () => {
        ++windowIndex;
        if(windowIndex > windowIndexMax) windowIndex = windowIndexMax;
        position = windowIndex*imageWidth;
        list.style.marginLeft = -position + 'px';
    })



    // Attempt 1, doesn't implement sliding behavior though
    // fwdArrow.addEventListener('click', () => {
    //    windowIndex = (++windowIndex)%windowIndexMax;
    //    let index = 0;
    //    for(let li of carousel.querySelectorAll('li')) {
    //      if(Math.abs(index-windowIndex) <=1)
    //         li.style.display = "block";
    //     else
    //         li.style.display = "none";
    //     //   li.insertAdjacentHTML('beforeend', `<span style="position:absolute;left:0;top:0">${i}</span>`);
    //     index++;
    // }
    // });

    // backArrow.addEventListener('click', () => {
    //    windowIndex = (--windowIndex)%windowIndexMax;
    //    let index = 0;
    //    for(let li of carousel.querySelectorAll('li')) {
    //      if(Math.abs(index-windowIndex) <=1)
    //         li.style.display = "block";
    //     else
    //         li.style.display = "none";
    //     //   li.insertAdjacentHTML('beforeend', `<span style="position:absolute;left:0;top:0">${i}</span>`);
    //     index++;
    // }
    // });

  </script>
</html>